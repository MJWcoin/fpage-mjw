{"remainingRequest":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\components\\menu\\ClickOutside.js","dependencies":[{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\components\\menu\\ClickOutside.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgeyBsaXN0ZW5PcHRzIH0gZnJvbSAiLi4vLi4vdXRpbHMvZXZlbnQuanMiOwppbXBvcnQgeyBnZXRWbU9mTm9kZSwgaXNWbUNoaWxkT2YgfSBmcm9tICIuLi8uLi91dGlscy92bS5qcyI7CnZhciB0aW1lcjsKdmFyIG5vdFBhc3NpdmVDYXB0dXJlID0gbGlzdGVuT3B0cy5ub3RQYXNzaXZlQ2FwdHVyZSwKICAgIHBhc3NpdmVDYXB0dXJlID0gbGlzdGVuT3B0cy5wYXNzaXZlQ2FwdHVyZSwKICAgIGhhbmRsZXJzID0gewogIGNsaWNrOiBbXSwKICBmb2N1czogW10KfTsKCmZ1bmN0aW9uIGV4ZWNIYW5kbGVycyhsaXN0LCBldnQpIHsKICBmb3IgKHZhciBpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgaWYgKGxpc3RbaV0oZXZ0KSA9PT0gdm9pZCAwKSB7CiAgICAgIHJldHVybjsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGdsb2JhbEhhbmRsZXIoZXZ0KSB7CiAgY2xlYXJUaW1lb3V0KHRpbWVyKTsgLy8gcHJldmVudCBhdXRvZm9jdXMgb24gYm9keSByZXN1bHRpbmcgZnJvbSBibHVyCgogIGlmIChldnQudHlwZSA9PT0gJ2ZvY3VzaW4nICYmIGV2dC50YXJnZXQuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpID09PSB0cnVlKSB7CiAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBleGVjSGFuZGxlcnMoaGFuZGxlcnMuZm9jdXMsIGV2dCk7CiAgICB9LCAyMDApOwogIH0gZWxzZSB7CiAgICBleGVjSGFuZGxlcnMoaGFuZGxlcnMuY2xpY2ssIGV2dCk7CiAgfQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NsaWNrLW91dHNpZGUnLAogIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoZWwsIF9yZWYsIHZub2RlKSB7CiAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlLAogICAgICAgIGFyZyA9IF9yZWYuYXJnOwogICAgdmFyIHZtRWwgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSB8fCB2bm9kZS5jb250ZXh0OwogICAgdmFyIGN0eCA9IHsKICAgICAgdHJpZ2dlcjogdmFsdWUsCiAgICAgIHRvZ2dsZUVsOiBhcmcsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoZXZ0KSB7CiAgICAgICAgdmFyIHRhcmdldCA9IGV2dC50YXJnZXQ7CgogICAgICAgIGlmICh0YXJnZXQgIT09IHZvaWQgMCAmJiB0YXJnZXQubm9kZVR5cGUgIT09IDggJiYgLy8gZGlyZWN0aXZlcyB0aGF0IHByZXZlbnQgY2xpY2sgYnkgdXNpbmcgcG9pbnRlci1ldmVudHMgbm9uZSBnZW5lcmF0ZSBjbGljayBvbiBodG1sIGVsZW1lbnQKICAgICAgICB0YXJnZXQgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1wb2ludGVyLWV2ZW50cycpID09PSBmYWxzZSAmJiAoY3R4LnRvZ2dsZUVsID09PSB2b2lkIDAgfHwgY3R4LnRvZ2dsZUVsLmNvbnRhaW5zKHRhcmdldCkgPT09IGZhbHNlKSAmJiAodGFyZ2V0ID09PSBkb2N1bWVudC5ib2R5IHx8IGlzVm1DaGlsZE9mKGdldFZtT2ZOb2RlKHRhcmdldCksIHZtRWwpID09PSBmYWxzZSkpIHsKICAgICAgICAgIC8vIG1hcmsgdGhlIGV2ZW50IGFzIGJlZWluZyBwcm9jZXNzZWQgYnkgY2xpY2tPdXRzaWRlCiAgICAgICAgICAvLyB1c2VkIHRvIHByZXZlbnQgcmVmb2N1cyBhZnRlciBtZW51IGNsb3NlCiAgICAgICAgICBldnQucUNsaWNrT3V0c2lkZSA9IHRydWU7CiAgICAgICAgICByZXR1cm4gY3R4LnRyaWdnZXIoZXZ0KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgaWYgKGVsLl9fcWNsaWNrb3V0c2lkZSkgewogICAgICBlbC5fX3FjbGlja291dHNpZGVfb2xkID0gZWwuX19xY2xpY2tvdXRzaWRlOwogICAgfQoKICAgIGVsLl9fcWNsaWNrb3V0c2lkZSA9IGN0eDsKCiAgICBpZiAoaGFuZGxlcnMuY2xpY2subGVuZ3RoID09PSAwKSB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGdsb2JhbEhhbmRsZXIsIG5vdFBhc3NpdmVDYXB0dXJlKTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGdsb2JhbEhhbmRsZXIsIG5vdFBhc3NpdmVDYXB0dXJlKTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGdsb2JhbEhhbmRsZXIsIHBhc3NpdmVDYXB0dXJlKTsKICAgIH0KCiAgICBoYW5kbGVycy5jbGljay5wdXNoKGN0eC5oYW5kbGVyKTsKICAgIGN0eC50aW1lckZvY3VzaW4gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgaGFuZGxlcnMuZm9jdXMucHVzaChjdHguaGFuZGxlcik7CiAgICB9LCA1MDApOwogIH0sCiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZWwsIF9yZWYyKSB7CiAgICB2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZSwKICAgICAgICBvbGRWYWx1ZSA9IF9yZWYyLm9sZFZhbHVlLAogICAgICAgIGFyZyA9IF9yZWYyLmFyZzsKICAgIHZhciBjdHggPSBlbC5fX3FjbGlja291dHNpZGU7CgogICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkgewogICAgICBjdHgudHJpZ2dlciA9IHZhbHVlOwogICAgfQoKICAgIGlmIChhcmcgIT09IGN0eC5hcmcpIHsKICAgICAgY3R4LnRvZ2dsZUVsID0gYXJnOwogICAgfQogIH0sCiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoZWwpIHsKICAgIHZhciBjdHggPSBlbC5fX3FjbGlja291dHNpZGVfb2xkIHx8IGVsLl9fcWNsaWNrb3V0c2lkZTsKCiAgICBpZiAoY3R4ICE9PSB2b2lkIDApIHsKICAgICAgY2xlYXJUaW1lb3V0KGN0eC50aW1lckZvY3VzaW4pOwogICAgICB2YXIgaW5kZXhDbGljayA9IGhhbmRsZXJzLmNsaWNrLmZpbmRJbmRleChmdW5jdGlvbiAoaCkgewogICAgICAgIHJldHVybiBoID09PSBjdHguaGFuZGxlcjsKICAgICAgfSksCiAgICAgICAgICBpbmRleEZvY3VzID0gaGFuZGxlcnMuZm9jdXMuZmluZEluZGV4KGZ1bmN0aW9uIChoKSB7CiAgICAgICAgcmV0dXJuIGggPT09IGN0eC5oYW5kbGVyOwogICAgICB9KTsKICAgICAgaW5kZXhDbGljayA+IC0xICYmIGhhbmRsZXJzLmNsaWNrLnNwbGljZShpbmRleENsaWNrLCAxKTsKICAgICAgaW5kZXhGb2N1cyA+IC0xICYmIGhhbmRsZXJzLmZvY3VzLnNwbGljZShpbmRleEZvY3VzLCAxKTsKCiAgICAgIGlmIChoYW5kbGVycy5jbGljay5sZW5ndGggPT09IDApIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGdsb2JhbEhhbmRsZXIsIG5vdFBhc3NpdmVDYXB0dXJlKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZ2xvYmFsSGFuZGxlciwgbm90UGFzc2l2ZUNhcHR1cmUpOwogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBnbG9iYWxIYW5kbGVyLCBwYXNzaXZlQ2FwdHVyZSk7CiAgICAgIH0KCiAgICAgIGRlbGV0ZSBlbFtlbC5fX3FjbGlja291dHNpZGVfb2xkID8gJ19fcWNsaWNrb3V0c2lkZV9vbGQnIDogJ19fcWNsaWNrb3V0c2lkZSddOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/jhill05/TruffleTests/Tru/vapp/node_modules/quasar/src/components/menu/ClickOutside.js"],"names":["listenOpts","getVmOfNode","isVmChildOf","timer","notPassiveCapture","passiveCapture","handlers","click","focus","execHandlers","list","evt","i","length","globalHandler","clearTimeout","type","target","hasAttribute","setTimeout","name","bind","el","vnode","value","arg","vmEl","componentInstance","context","ctx","trigger","toggleEl","handler","nodeType","document","documentElement","classList","contains","body","qClickOutside","__qclickoutside","__qclickoutside_old","addEventListener","push","timerFocusin","update","oldValue","unbind","indexClick","findIndex","h","indexFocus","splice","removeEventListener"],"mappings":"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","sourcesContent":["import { listenOpts } from '../../utils/event.js'\nimport { getVmOfNode, isVmChildOf } from '../../utils/vm.js'\n\nlet timer\n\nconst\n  { notPassiveCapture, passiveCapture } = listenOpts,\n  handlers = {\n    click: [],\n    focus: []\n  }\n\nfunction execHandlers (list, evt) {\n  for (let i = list.length - 1; i >= 0; i--) {\n    if (list[i](evt) === void 0) {\n      return\n    }\n  }\n}\n\nfunction globalHandler (evt) {\n  clearTimeout(timer)\n\n  // prevent autofocus on body resulting from blur\n  if (evt.type === 'focusin' && evt.target.hasAttribute('tabindex') === true) {\n    timer = setTimeout(() => {\n      execHandlers(handlers.focus, evt)\n    }, 200)\n  }\n  else {\n    execHandlers(handlers.click, evt)\n  }\n}\n\nexport default {\n  name: 'click-outside',\n\n  bind (el, { value, arg }, vnode) {\n    const vmEl = vnode.componentInstance || vnode.context\n\n    const ctx = {\n      trigger: value,\n      toggleEl: arg,\n\n      handler (evt) {\n        const target = evt.target\n\n        if (\n          target !== void 0 &&\n          target.nodeType !== 8 &&\n          // directives that prevent click by using pointer-events none generate click on html element\n          target !== document.documentElement &&\n          target.classList.contains('no-pointer-events') === false &&\n          (\n            ctx.toggleEl === void 0 ||\n            ctx.toggleEl.contains(target) === false\n          ) &&\n          (\n            target === document.body ||\n            isVmChildOf(getVmOfNode(target), vmEl) === false\n          )\n        ) {\n          // mark the event as beeing processed by clickOutside\n          // used to prevent refocus after menu close\n          evt.qClickOutside = true\n\n          return ctx.trigger(evt)\n        }\n      }\n    }\n\n    if (el.__qclickoutside) {\n      el.__qclickoutside_old = el.__qclickoutside\n    }\n\n    el.__qclickoutside = ctx\n\n    if (handlers.click.length === 0) {\n      document.addEventListener('mousedown', globalHandler, notPassiveCapture)\n      document.addEventListener('touchstart', globalHandler, notPassiveCapture)\n      document.addEventListener('focusin', globalHandler, passiveCapture)\n    }\n\n    handlers.click.push(ctx.handler)\n\n    ctx.timerFocusin = setTimeout(() => {\n      handlers.focus.push(ctx.handler)\n    }, 500)\n  },\n\n  update (el, { value, oldValue, arg }) {\n    const ctx = el.__qclickoutside\n\n    if (value !== oldValue) {\n      ctx.trigger = value\n    }\n    if (arg !== ctx.arg) {\n      ctx.toggleEl = arg\n    }\n  },\n\n  unbind (el) {\n    const ctx = el.__qclickoutside_old || el.__qclickoutside\n    if (ctx !== void 0) {\n      clearTimeout(ctx.timerFocusin)\n\n      const\n        indexClick = handlers.click.findIndex(h => h === ctx.handler),\n        indexFocus = handlers.focus.findIndex(h => h === ctx.handler)\n\n      indexClick > -1 && handlers.click.splice(indexClick, 1)\n      indexFocus > -1 && handlers.focus.splice(indexFocus, 1)\n\n      if (handlers.click.length === 0) {\n        clearTimeout(timer)\n        document.removeEventListener('mousedown', globalHandler, notPassiveCapture)\n        document.removeEventListener('touchstart', globalHandler, notPassiveCapture)\n        document.removeEventListener('focusin', globalHandler, passiveCapture)\n      }\n\n      delete el[el.__qclickoutside_old ? '__qclickoutside_old' : '__qclickoutside']\n    }\n  }\n}\n"]}]}