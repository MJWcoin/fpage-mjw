{"remainingRequest":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\directives\\TouchHold.js","dependencies":[{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\directives\\TouchHold.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmRhdGUubm93IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgeyBjbGllbnQgfSBmcm9tICIuLi9wbHVnaW5zL1BsYXRmb3JtLmpzIjsKaW1wb3J0IHsgZ2V0VG91Y2hUYXJnZXQgfSBmcm9tICIuLi91dGlscy90b3VjaC5qcyI7CmltcG9ydCB7IGFkZEV2dCwgY2xlYW5FdnQsIHBvc2l0aW9uLCBsZWZ0Q2xpY2ssIHN0b3BBbmRQcmV2ZW50LCBub29wIH0gZnJvbSAiLi4vdXRpbHMvZXZlbnQuanMiOwppbXBvcnQgeyBjbGVhclNlbGVjdGlvbiB9IGZyb20gIi4uL3V0aWxzL3NlbGVjdGlvbi5qcyI7CgpmdW5jdGlvbiB1cGRhdGUoZWwsIGJpbmRpbmcpIHsKICB2YXIgY3R4ID0gZWwuX19xdG91Y2hob2xkOwoKICBpZiAoY3R4ICE9PSB2b2lkIDApIHsKICAgIGlmIChiaW5kaW5nLm9sZFZhbHVlICE9PSBiaW5kaW5nLnZhbHVlKSB7CiAgICAgIHR5cGVvZiBiaW5kaW5nLnZhbHVlICE9PSAnZnVuY3Rpb24nICYmIGN0eC5lbmQoKTsKICAgICAgY3R4LmhhbmRsZXIgPSBiaW5kaW5nLnZhbHVlOwogICAgfSAvLyBkdXJhdGlvbiBpbiBtcywgdG91Y2ggaW4gcGl4ZWxzLCBtb3VzZSBpbiBwaXhlbHMKCgogICAgdmFyIGRhdGEgPSBbNjAwLCA1LCA3XTsKCiAgICBpZiAodHlwZW9mIGJpbmRpbmcuYXJnID09PSAnc3RyaW5nJyAmJiBiaW5kaW5nLmFyZy5sZW5ndGgpIHsKICAgICAgYmluZGluZy5hcmcuc3BsaXQoJzonKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7CiAgICAgICAgdmFyIHYgPSBwYXJzZUludCh2YWwsIDEwKTsKICAgICAgICB2ICYmIChkYXRhW2luZGV4XSA9IHYpOwogICAgICB9KTsKICAgIH0KCiAgICBjdHguZHVyYXRpb24gPSBkYXRhWzBdOwogICAgY3R4LnRvdWNoU2Vuc2l0aXZpdHkgPSBkYXRhWzFdOwogICAgY3R4Lm1vdXNlU2Vuc2l0aXZpdHkgPSBkYXRhWzJdOwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd0b3VjaC1ob2xkJywKICBiaW5kOiBmdW5jdGlvbiBiaW5kKGVsLCBiaW5kaW5nKSB7CiAgICB2YXIgbW9kaWZpZXJzID0gYmluZGluZy5tb2RpZmllcnM7IC8vIGVhcmx5IHJldHVybiwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZwoKICAgIGlmIChtb2RpZmllcnMubW91c2UgIT09IHRydWUgJiYgY2xpZW50Lmhhcy50b3VjaCAhPT0gdHJ1ZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIGN0eCA9IHsKICAgICAgbm9vcDogbm9vcCwKICAgICAgbW91c2VTdGFydDogZnVuY3Rpb24gbW91c2VTdGFydChldnQpIHsKICAgICAgICBpZiAodHlwZW9mIGN0eC5oYW5kbGVyID09PSAnZnVuY3Rpb24nICYmIGxlZnRDbGljayhldnQpID09PSB0cnVlKSB7CiAgICAgICAgICBhZGRFdnQoY3R4LCAndGVtcCcsIFtbZG9jdW1lbnQsICdtb3VzZW1vdmUnLCAnbW92ZScsICdwYXNzaXZlQ2FwdHVyZSddLCBbZG9jdW1lbnQsICdjbGljaycsICdlbmQnLCAnbm90UGFzc2l2ZUNhcHR1cmUnXV0pOwogICAgICAgICAgY3R4LnN0YXJ0KGV2dCwgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICB0b3VjaFN0YXJ0OiBmdW5jdGlvbiB0b3VjaFN0YXJ0KGV2dCkgewogICAgICAgIGlmIChldnQudGFyZ2V0ICE9PSB2b2lkIDAgJiYgdHlwZW9mIGN0eC5oYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICB2YXIgdGFyZ2V0ID0gZ2V0VG91Y2hUYXJnZXQoZXZ0LnRhcmdldCk7CiAgICAgICAgICBhZGRFdnQoY3R4LCAndGVtcCcsIFtbdGFyZ2V0LCAndG91Y2htb3ZlJywgJ21vdmUnLCAncGFzc2l2ZUNhcHR1cmUnXSwgW3RhcmdldCwgJ3RvdWNoY2FuY2VsJywgJ2VuZCcsICdub3RQYXNzaXZlQ2FwdHVyZSddLCBbdGFyZ2V0LCAndG91Y2hlbmQnLCAnZW5kJywgJ25vdFBhc3NpdmVDYXB0dXJlJ11dKTsKICAgICAgICAgIGN0eC5zdGFydChldnQpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGV2dCwgbW91c2VFdmVudCkgewogICAgICAgIGN0eC5vcmlnaW4gPSBwb3NpdGlvbihldnQpOwogICAgICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpOwoKICAgICAgICBpZiAoY2xpZW50LmlzLm1vYmlsZSA9PT0gdHJ1ZSkgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdub24tc2VsZWN0YWJsZScpOwogICAgICAgICAgY2xlYXJTZWxlY3Rpb24oKTsKCiAgICAgICAgICBjdHguc3R5bGVDbGVhbnVwID0gZnVuY3Rpb24gKHdpdGhEZWxheSkgewogICAgICAgICAgICBjdHguc3R5bGVDbGVhbnVwID0gdm9pZCAwOwoKICAgICAgICAgICAgdmFyIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ25vbi1zZWxlY3RhYmxlJyk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAod2l0aERlbGF5ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZSwgMTApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgY3R4LnRyaWdnZXJlZCA9IGZhbHNlOwogICAgICAgIGN0eC5zZW5zaXRpdml0eSA9IG1vdXNlRXZlbnQgPT09IHRydWUgPyBjdHgubW91c2VTZW5zaXRpdml0eSA6IGN0eC50b3VjaFNlbnNpdGl2aXR5OwogICAgICAgIGN0eC50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgICAgIGN0eC50cmlnZ2VyZWQgPSB0cnVlOwogICAgICAgICAgY3R4LmhhbmRsZXIoewogICAgICAgICAgICBldnQ6IGV2dCwKICAgICAgICAgICAgdG91Y2g6IG1vdXNlRXZlbnQgIT09IHRydWUsCiAgICAgICAgICAgIG1vdXNlOiBtb3VzZUV2ZW50ID09PSB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogY3R4Lm9yaWdpbiwKICAgICAgICAgICAgZHVyYXRpb246IERhdGUubm93KCkgLSBzdGFydFRpbWUKICAgICAgICAgIH0pOwogICAgICAgIH0sIGN0eC5kdXJhdGlvbik7CiAgICAgIH0sCiAgICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoZXZ0KSB7CiAgICAgICAgdmFyIF9wb3NpdGlvbiA9IHBvc2l0aW9uKGV2dCksCiAgICAgICAgICAgIHRvcCA9IF9wb3NpdGlvbi50b3AsCiAgICAgICAgICAgIGxlZnQgPSBfcG9zaXRpb24ubGVmdDsKCiAgICAgICAgaWYgKE1hdGguYWJzKGxlZnQgLSBjdHgub3JpZ2luLmxlZnQpID49IGN0eC5zZW5zaXRpdml0eSB8fCBNYXRoLmFicyh0b3AgLSBjdHgub3JpZ2luLnRvcCkgPj0gY3R4LnNlbnNpdGl2aXR5KSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQoY3R4LnRpbWVyKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVuZDogZnVuY3Rpb24gZW5kKGV2dCkgewogICAgICAgIGNsZWFuRXZ0KGN0eCwgJ3RlbXAnKTsgLy8gZGVsYXkgbmVlZGVkIG90aGVyd2lzZSBzZWxlY3Rpb24gc3RpbGwgb2NjdXJzCgogICAgICAgIGN0eC5zdHlsZUNsZWFudXAgIT09IHZvaWQgMCAmJiBjdHguc3R5bGVDbGVhbnVwKGN0eC50cmlnZ2VyZWQpOwoKICAgICAgICBpZiAoY3R4LnRyaWdnZXJlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgZXZ0ICE9PSB2b2lkIDAgJiYgc3RvcEFuZFByZXZlbnQoZXZ0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2xlYXJUaW1lb3V0KGN0eC50aW1lcik7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIGlmIChlbC5fX3F0b3VjaGhvbGQpIHsKICAgICAgZWwuX19xdG91Y2hob2xkX29sZCA9IGVsLl9fcXRvdWNoaG9sZDsKICAgIH0KCiAgICBlbC5fX3F0b3VjaGhvbGQgPSBjdHg7CiAgICB1cGRhdGUoZWwsIGJpbmRpbmcpOwogICAgbW9kaWZpZXJzLm1vdXNlID09PSB0cnVlICYmIGFkZEV2dChjdHgsICdtYWluJywgW1tlbCwgJ21vdXNlZG93bicsICdtb3VzZVN0YXJ0JywgInBhc3NpdmUiLmNvbmNhdChtb2RpZmllcnMubW91c2VDYXB0dXJlID09PSB0cnVlID8gJ0NhcHR1cmUnIDogJycpXV0pOwogICAgY2xpZW50Lmhhcy50b3VjaCA9PT0gdHJ1ZSAmJiBhZGRFdnQoY3R4LCAnbWFpbicsIFtbZWwsICd0b3VjaHN0YXJ0JywgJ3RvdWNoU3RhcnQnLCAicGFzc2l2ZSIuY29uY2F0KG1vZGlmaWVycy5jYXB0dXJlID09PSB0cnVlID8gJ0NhcHR1cmUnIDogJycpXSwgW2VsLCAndG91Y2hlbmQnLCAnbm9vcCcsICdub3RQYXNzaXZlQ2FwdHVyZSddXSk7CiAgfSwKICB1cGRhdGU6IHVwZGF0ZSwKICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZChlbCkgewogICAgdmFyIGN0eCA9IGVsLl9fcXRvdWNoaG9sZF9vbGQgfHwgZWwuX19xdG91Y2hob2xkOwoKICAgIGlmIChjdHggIT09IHZvaWQgMCkgewogICAgICBjbGVhbkV2dChjdHgsICdtYWluJyk7CiAgICAgIGNsZWFuRXZ0KGN0eCwgJ3RlbXAnKTsKICAgICAgY2xlYXJUaW1lb3V0KGN0eC50aW1lcik7CiAgICAgIGN0eC5zdHlsZUNsZWFudXAgIT09IHZvaWQgMCAmJiBjdHguc3R5bGVDbGVhbnVwKCk7CiAgICAgIGRlbGV0ZSBlbFtlbC5fX3F0b3VjaGhvbGRfb2xkID8gJ19fcXRvdWNoaG9sZF9vbGQnIDogJ19fcXRvdWNoaG9sZCddOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/jhill05/TruffleTests/Tru/vapp/node_modules/quasar/src/directives/TouchHold.js"],"names":["client","getTouchTarget","addEvt","cleanEvt","position","leftClick","stopAndPrevent","noop","clearSelection","update","el","binding","ctx","__qtouchhold","oldValue","value","end","handler","data","arg","length","split","forEach","val","index","v","parseInt","duration","touchSensitivity","mouseSensitivity","name","bind","modifiers","mouse","has","touch","mouseStart","evt","document","start","touchStart","target","mouseEvent","origin","startTime","Date","now","is","mobile","body","classList","add","styleCleanup","withDelay","remove","setTimeout","triggered","sensitivity","timer","move","top","left","Math","abs","clearTimeout","__qtouchhold_old","mouseCapture","capture","unbind"],"mappings":"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","sourcesContent":["import { client } from '../plugins/Platform.js'\nimport { getTouchTarget } from '../utils/touch.js'\nimport { addEvt, cleanEvt, position, leftClick, stopAndPrevent, noop } from '../utils/event.js'\nimport { clearSelection } from '../utils/selection.js'\n\nfunction update (el, binding) {\n  const ctx = el.__qtouchhold\n\n  if (ctx !== void 0) {\n    if (binding.oldValue !== binding.value) {\n      typeof binding.value !== 'function' && ctx.end()\n      ctx.handler = binding.value\n    }\n\n    // duration in ms, touch in pixels, mouse in pixels\n    const data = [600, 5, 7]\n\n    if (typeof binding.arg === 'string' && binding.arg.length) {\n      binding.arg.split(':').forEach((val, index) => {\n        const v = parseInt(val, 10)\n        v && (data[index] = v)\n      })\n    }\n\n    [ ctx.duration, ctx.touchSensitivity, ctx.mouseSensitivity ] = data\n  }\n}\n\nexport default {\n  name: 'touch-hold',\n\n  bind (el, binding) {\n    const { modifiers } = binding\n\n    // early return, we don't need to do anything\n    if (modifiers.mouse !== true && client.has.touch !== true) {\n      return\n    }\n\n    const ctx = {\n      noop,\n\n      mouseStart (evt) {\n        if (typeof ctx.handler === 'function' && leftClick(evt) === true) {\n          addEvt(ctx, 'temp', [\n            [ document, 'mousemove', 'move', 'passiveCapture' ],\n            [ document, 'click', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt, true)\n        }\n      },\n\n      touchStart (evt) {\n        if (evt.target !== void 0 && typeof ctx.handler === 'function') {\n          const target = getTouchTarget(evt.target)\n          addEvt(ctx, 'temp', [\n            [ target, 'touchmove', 'move', 'passiveCapture' ],\n            [ target, 'touchcancel', 'end', 'notPassiveCapture' ],\n            [ target, 'touchend', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt)\n        }\n      },\n\n      start (evt, mouseEvent) {\n        ctx.origin = position(evt)\n\n        const startTime = Date.now()\n\n        if (client.is.mobile === true) {\n          document.body.classList.add('non-selectable')\n          clearSelection()\n\n          ctx.styleCleanup = withDelay => {\n            ctx.styleCleanup = void 0\n\n            const remove = () => {\n              document.body.classList.remove('non-selectable')\n            }\n\n            if (withDelay === true) {\n              clearSelection()\n              setTimeout(remove, 10)\n            }\n            else { remove() }\n          }\n        }\n\n        ctx.triggered = false\n        ctx.sensitivity = mouseEvent === true\n          ? ctx.mouseSensitivity\n          : ctx.touchSensitivity\n\n        ctx.timer = setTimeout(() => {\n          clearSelection()\n          ctx.triggered = true\n\n          ctx.handler({\n            evt,\n            touch: mouseEvent !== true,\n            mouse: mouseEvent === true,\n            position: ctx.origin,\n            duration: Date.now() - startTime\n          })\n        }, ctx.duration)\n      },\n\n      move (evt) {\n        const { top, left } = position(evt)\n        if (\n          Math.abs(left - ctx.origin.left) >= ctx.sensitivity ||\n          Math.abs(top - ctx.origin.top) >= ctx.sensitivity\n        ) {\n          clearTimeout(ctx.timer)\n        }\n      },\n\n      end (evt) {\n        cleanEvt(ctx, 'temp')\n\n        // delay needed otherwise selection still occurs\n        ctx.styleCleanup !== void 0 && ctx.styleCleanup(ctx.triggered)\n\n        if (ctx.triggered === true) {\n          evt !== void 0 && stopAndPrevent(evt)\n        }\n        else {\n          clearTimeout(ctx.timer)\n        }\n      }\n    }\n\n    if (el.__qtouchhold) {\n      el.__qtouchhold_old = el.__qtouchhold\n    }\n\n    el.__qtouchhold = ctx\n\n    update(el, binding)\n\n    modifiers.mouse === true && addEvt(ctx, 'main', [\n      [ el, 'mousedown', 'mouseStart', `passive${modifiers.mouseCapture === true ? 'Capture' : ''}` ]\n    ])\n\n    client.has.touch === true && addEvt(ctx, 'main', [\n      [ el, 'touchstart', 'touchStart', `passive${modifiers.capture === true ? 'Capture' : ''}` ],\n      [ el, 'touchend', 'noop', 'notPassiveCapture' ]\n    ])\n  },\n\n  update,\n\n  unbind (el) {\n    const ctx = el.__qtouchhold_old || el.__qtouchhold\n    if (ctx !== void 0) {\n      cleanEvt(ctx, 'main')\n      cleanEvt(ctx, 'temp')\n\n      clearTimeout(ctx.timer)\n      ctx.styleCleanup !== void 0 && ctx.styleCleanup()\n\n      delete el[el.__qtouchhold_old ? '__qtouchhold_old' : '__qtouchhold']\n    }\n  }\n}\n"]}]}