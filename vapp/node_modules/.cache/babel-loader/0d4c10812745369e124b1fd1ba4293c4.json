{"remainingRequest":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\mixins\\file.js","dependencies":[{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\mixins\\file.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZyb20iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmVuZHMtd2l0aCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcudHJpbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgeyBzdG9wQW5kUHJldmVudCB9IGZyb20gIi4uL3V0aWxzL2V2ZW50LmpzIjsKaW1wb3J0IGNhY2hlIGZyb20gIi4uL3V0aWxzL2NhY2hlLmpzIjsKCmZ1bmN0aW9uIGZpbHRlckZpbGVzKGZpbGVzLCByZWplY3RlZEZpbGVzLCBmYWlsZWRQcm9wVmFsaWRhdGlvbiwgZmlsdGVyRm4pIHsKICB2YXIgYWNjZXB0ZWRGaWxlcyA9IFtdOwogIGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAgIGlmIChmaWx0ZXJGbihmaWxlKSA9PT0gdHJ1ZSkgewogICAgICBhY2NlcHRlZEZpbGVzLnB1c2goZmlsZSk7CiAgICB9IGVsc2UgewogICAgICByZWplY3RlZEZpbGVzLnB1c2goewogICAgICAgIGZhaWxlZFByb3BWYWxpZGF0aW9uOiBmYWlsZWRQcm9wVmFsaWRhdGlvbiwKICAgICAgICBmaWxlOiBmaWxlCiAgICAgIH0pOwogICAgfQogIH0pOwogIHJldHVybiBhY2NlcHRlZEZpbGVzOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG11bHRpcGxlOiBCb29sZWFuLAogICAgYWNjZXB0OiBTdHJpbmcsCiAgICBjYXB0dXJlOiBTdHJpbmcsCiAgICBtYXhGaWxlU2l6ZTogW051bWJlciwgU3RyaW5nXSwKICAgIG1heFRvdGFsU2l6ZTogW051bWJlciwgU3RyaW5nXSwKICAgIG1heEZpbGVzOiBbTnVtYmVyLCBTdHJpbmddLAogICAgZmlsdGVyOiBGdW5jdGlvbgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGV4dGVuc2lvbnM6IGZ1bmN0aW9uIGV4dGVuc2lvbnMoKSB7CiAgICAgIGlmICh0aGlzLmFjY2VwdCAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXB0LnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChleHQpIHsKICAgICAgICAgIGV4dCA9IGV4dC50cmltKCk7IC8vIHN1cHBvcnQgImltYWdlLyoiCgogICAgICAgICAgaWYgKGV4dC5lbmRzV2l0aCgnLyonKSkgewogICAgICAgICAgICBleHQgPSBleHQuc2xpY2UoMCwgZXh0Lmxlbmd0aCAtIDEpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBleHQudG9VcHBlckNhc2UoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG1heEZpbGVzTnVtYmVyOiBmdW5jdGlvbiBtYXhGaWxlc051bWJlcigpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMubWF4RmlsZXMsIDEwKTsKICAgIH0sCiAgICBtYXhUb3RhbFNpemVOdW1iZXI6IGZ1bmN0aW9uIG1heFRvdGFsU2l6ZU51bWJlcigpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMubWF4VG90YWxTaXplLCAxMCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwaWNrRmlsZXM6IGZ1bmN0aW9uIHBpY2tGaWxlcyhlKSB7CiAgICAgIGlmICh0aGlzLmVkaXRhYmxlKSB7CiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5fX2dldEZpbGVJbnB1dCgpOwoKICAgICAgICBpbnB1dCAmJiBpbnB1dC5jbGljayhlKTsKICAgICAgfQogICAgfSwKICAgIGFkZEZpbGVzOiBmdW5jdGlvbiBhZGRGaWxlcyhmaWxlcykgewogICAgICBpZiAodGhpcy5lZGl0YWJsZSAmJiBmaWxlcykgewogICAgICAgIHRoaXMuX19hZGRGaWxlcyhudWxsLCBmaWxlcyk7CiAgICAgIH0KICAgIH0sCiAgICBfX3Byb2Nlc3NGaWxlczogZnVuY3Rpb24gX19wcm9jZXNzRmlsZXMoZSwgZmlsZXNUb1Byb2Nlc3MsIGN1cnJlbnRGaWxlTGlzdCwgYXBwZW5kKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZmlsZXMgPSBBcnJheS5mcm9tKGZpbGVzVG9Qcm9jZXNzIHx8IGUudGFyZ2V0LmZpbGVzKTsKICAgICAgdmFyIHJlamVjdGVkRmlsZXMgPSBbXTsKCiAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZSgpIHsKICAgICAgICBpZiAocmVqZWN0ZWRGaWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpcy4kZW1pdCgncmVqZWN0ZWQnLCByZWplY3RlZEZpbGVzKTsKICAgICAgICB9CiAgICAgIH07IC8vIGZpbHRlciBmaWxlIHR5cGVzCgoKICAgICAgaWYgKHRoaXMuYWNjZXB0ICE9PSB2b2lkIDApIHsKICAgICAgICBmaWxlcyA9IGZpbHRlckZpbGVzKGZpbGVzLCByZWplY3RlZEZpbGVzLCAnYWNjZXB0JywgZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5leHRlbnNpb25zLnNvbWUoZnVuY3Rpb24gKGV4dCkgewogICAgICAgICAgICByZXR1cm4gZmlsZS50eXBlLnRvVXBwZXJDYXNlKCkuc3RhcnRzV2l0aChleHQpIHx8IGZpbGUubmFtZS50b1VwcGVyQ2FzZSgpLmVuZHNXaXRoKGV4dCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGRvbmUoKTsKICAgICAgICB9CiAgICAgIH0gLy8gZmlsdGVyIG1heCBmaWxlIHNpemUKCgogICAgICBpZiAodGhpcy5tYXhGaWxlU2l6ZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgdmFyIG1heEZpbGVTaXplID0gcGFyc2VJbnQodGhpcy5tYXhGaWxlU2l6ZSwgMTApOwogICAgICAgIGZpbGVzID0gZmlsdGVyRmlsZXMoZmlsZXMsIHJlamVjdGVkRmlsZXMsICdtYXgtZmlsZS1zaXplJywgZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgIHJldHVybiBmaWxlLnNpemUgPD0gbWF4RmlsZVNpemU7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHJldHVybiBkb25lKCk7CiAgICAgICAgfQogICAgICB9IC8vIENvcmRvdmEvaU9TIGFsbG93cyBzZWxlY3RpbmcgbXVsdGlwbGUgZmlsZXMgZXZlbiB3aGVuIHRoZQogICAgICAvLyBtdWx0aXBsZSBhdHRyaWJ1dGUgaXMgbm90IHNwZWNpZmllZC4gV2UgYWxzbyBub3JtYWxpemUgZHJhZyduJ2Ryb3BwZWQKICAgICAgLy8gZmlsZXMgaGVyZToKCgogICAgICBpZiAodGhpcy5tdWx0aXBsZSAhPT0gdHJ1ZSkgewogICAgICAgIGZpbGVzID0gW2ZpbGVzWzBdXTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubWF4VG90YWxTaXplICE9PSB2b2lkIDApIHsKICAgICAgICB2YXIgc2l6ZSA9IGFwcGVuZCA9PT0gdHJ1ZSA/IGN1cnJlbnRGaWxlTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCBmaWxlKSB7CiAgICAgICAgICByZXR1cm4gdG90YWwgKyBmaWxlLnNpemU7CiAgICAgICAgfSwgMCkgOiAwOwogICAgICAgIGZpbGVzID0gZmlsdGVyRmlsZXMoZmlsZXMsIHJlamVjdGVkRmlsZXMsICdtYXgtdG90YWwtc2l6ZScsIGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgICBzaXplICs9IGZpbGUuc2l6ZTsKICAgICAgICAgIHJldHVybiBzaXplIDw9IF90aGlzLm1heFRvdGFsU2l6ZU51bWJlcjsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGRvbmUoKTsKICAgICAgICB9CiAgICAgIH0gLy8gZG8gd2UgaGF2ZSBjdXN0b20gZmlsdGVyIGZ1bmN0aW9uPwoKCiAgICAgIGlmICh0eXBlb2YgdGhpcy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB2YXIgZmlsdGVyZWRGaWxlcyA9IHRoaXMuZmlsdGVyKGZpbGVzKTsKICAgICAgICBmaWxlcyA9IGZpbHRlckZpbGVzKGZpbGVzLCByZWplY3RlZEZpbGVzLCAnZmlsdGVyJywgZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgIHJldHVybiBmaWx0ZXJlZEZpbGVzLmluY2x1ZGVzKGZpbGUpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy5tYXhGaWxlcyAhPT0gdm9pZCAwKSB7CiAgICAgICAgdmFyIGZpbGVzTnVtYmVyID0gYXBwZW5kID09PSB0cnVlID8gY3VycmVudEZpbGVMaXN0Lmxlbmd0aCA6IDA7CiAgICAgICAgZmlsZXMgPSBmaWx0ZXJGaWxlcyhmaWxlcywgcmVqZWN0ZWRGaWxlcywgJ21heC1maWxlcycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZpbGVzTnVtYmVyKys7CiAgICAgICAgICByZXR1cm4gZmlsZXNOdW1iZXIgPD0gX3RoaXMubWF4RmlsZXNOdW1iZXI7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHJldHVybiBkb25lKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBkb25lKCk7CgogICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiBmaWxlczsKICAgICAgfQogICAgfSwKICAgIF9fb25EcmFnT3ZlcjogZnVuY3Rpb24gX19vbkRyYWdPdmVyKGUpIHsKICAgICAgc3RvcEFuZFByZXZlbnQoZSk7CiAgICAgIHRoaXMuZG5kID0gdHJ1ZTsKICAgIH0sCiAgICBfX29uRHJhZ0xlYXZlOiBmdW5jdGlvbiBfX29uRHJhZ0xlYXZlKGUpIHsKICAgICAgc3RvcEFuZFByZXZlbnQoZSk7CiAgICAgIHRoaXMuZG5kID0gZmFsc2U7CiAgICB9LAogICAgX19vbkRyb3A6IGZ1bmN0aW9uIF9fb25Ecm9wKGUpIHsKICAgICAgc3RvcEFuZFByZXZlbnQoZSk7CiAgICAgIHZhciBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwoKICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLl9fYWRkRmlsZXMobnVsbCwgZmlsZXMpOwogICAgICB9CgogICAgICB0aGlzLmRuZCA9IGZhbHNlOwogICAgfSwKICAgIF9fZ2V0RG5kOiBmdW5jdGlvbiBfX2dldERuZChoLCB0eXBlKSB7CiAgICAgIGlmICh0aGlzLmRuZCA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInEtIi5jb25jYXQodHlwZSwgIl9fZG5kIGFic29sdXRlLWZ1bGwiKSwKICAgICAgICAgIG9uOiBjYWNoZSh0aGlzLCAnZG5kJywgewogICAgICAgICAgICBkcmFnZW50ZXI6IHN0b3BBbmRQcmV2ZW50LAogICAgICAgICAgICBkcmFnb3Zlcjogc3RvcEFuZFByZXZlbnQsCiAgICAgICAgICAgIGRyYWdsZWF2ZTogdGhpcy5fX29uRHJhZ0xlYXZlLAogICAgICAgICAgICBkcm9wOiB0aGlzLl9fb25Ecm9wCiAgICAgICAgICB9KQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9OwpleHBvcnQgdmFyIEZpbGVWYWx1ZU1peGluID0gewogIGNvbXB1dGVkOiB7CiAgICBmb3JtRG9tUHJvcHM6IGZ1bmN0aW9uIGZvcm1Eb21Qcm9wcygpIHsKICAgICAgaWYgKHRoaXMudHlwZSAhPT0gJ2ZpbGUnKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIHZhciBkdCA9ICdEYXRhVHJhbnNmZXInIGluIHdpbmRvdyA/IG5ldyBEYXRhVHJhbnNmZXIoKSA6ICdDbGlwYm9hcmRFdmVudCcgaW4gd2luZG93ID8gbmV3IENsaXBib2FyZEV2ZW50KCcnKS5jbGlwYm9hcmREYXRhIDogdm9pZCAwOwoKICAgICAgICBpZiAoT2JqZWN0KHRoaXMudmFsdWUpID09PSB0aGlzLnZhbHVlKSB7CiAgICAgICAgICAoJ2xlbmd0aCcgaW4gdGhpcy52YWx1ZSA/IEFycmF5LmZyb20odGhpcy52YWx1ZSkgOiBbdGhpcy52YWx1ZV0pLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgICAgZHQuaXRlbXMuYWRkKGZpbGUpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgZmlsZXM6IGR0LmZpbGVzCiAgICAgICAgfTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBmaWxlczogdm9pZCAwCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/jhill05/TruffleTests/Tru/vapp/node_modules/quasar/src/mixins/file.js"],"names":["stopAndPrevent","cache","filterFiles","files","rejectedFiles","failedPropValidation","filterFn","acceptedFiles","forEach","file","push","props","multiple","Boolean","accept","String","capture","maxFileSize","Number","maxTotalSize","maxFiles","filter","Function","computed","extensions","split","map","ext","trim","endsWith","slice","length","toUpperCase","maxFilesNumber","parseInt","maxTotalSizeNumber","methods","pickFiles","e","editable","input","__getFileInput","click","addFiles","__addFiles","__processFiles","filesToProcess","currentFileList","append","Array","from","target","done","$emit","some","type","startsWith","name","size","reduce","total","filteredFiles","includes","filesNumber","__onDragOver","dnd","__onDragLeave","__onDrop","dataTransfer","__getDnd","h","staticClass","on","dragenter","dragover","dragleave","drop","FileValueMixin","formDomProps","dt","window","DataTransfer","ClipboardEvent","clipboardData","Object","value","items","add"],"mappings":"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","sourcesContent":["import { stopAndPrevent } from '../utils/event.js'\nimport cache from '../utils/cache.js'\n\nfunction filterFiles (files, rejectedFiles, failedPropValidation, filterFn) {\n  const acceptedFiles = []\n\n  files.forEach(file => {\n    if (filterFn(file) === true) {\n      acceptedFiles.push(file)\n    }\n    else {\n      rejectedFiles.push({ failedPropValidation, file })\n    }\n  })\n\n  return acceptedFiles\n}\n\nexport default {\n  props: {\n    multiple: Boolean,\n    accept: String,\n    capture: String,\n    maxFileSize: [ Number, String ],\n    maxTotalSize: [ Number, String ],\n    maxFiles: [ Number, String ],\n    filter: Function\n  },\n\n  computed: {\n    extensions () {\n      if (this.accept !== void 0) {\n        return this.accept.split(',').map(ext => {\n          ext = ext.trim()\n          // support \"image/*\"\n          if (ext.endsWith('/*')) {\n            ext = ext.slice(0, ext.length - 1)\n          }\n          return ext.toUpperCase()\n        })\n      }\n    },\n\n    maxFilesNumber () {\n      return parseInt(this.maxFiles, 10)\n    },\n\n    maxTotalSizeNumber () {\n      return parseInt(this.maxTotalSize, 10)\n    }\n  },\n\n  methods: {\n    pickFiles (e) {\n      if (this.editable) {\n        const input = this.__getFileInput()\n        input && input.click(e)\n      }\n    },\n\n    addFiles (files) {\n      if (this.editable && files) {\n        this.__addFiles(null, files)\n      }\n    },\n\n    __processFiles (e, filesToProcess, currentFileList, append) {\n      let files = Array.from(filesToProcess || e.target.files)\n      const rejectedFiles = []\n\n      const done = () => {\n        if (rejectedFiles.length > 0) {\n          this.$emit('rejected', rejectedFiles)\n        }\n      }\n\n      // filter file types\n      if (this.accept !== void 0) {\n        files = filterFiles(files, rejectedFiles, 'accept', file => {\n          return this.extensions.some(ext => (\n            file.type.toUpperCase().startsWith(ext) ||\n            file.name.toUpperCase().endsWith(ext)\n          ))\n        })\n\n        if (files.length === 0) { return done() }\n      }\n\n      // filter max file size\n      if (this.maxFileSize !== void 0) {\n        const maxFileSize = parseInt(this.maxFileSize, 10)\n        files = filterFiles(files, rejectedFiles, 'max-file-size', file => {\n          return file.size <= maxFileSize\n        })\n\n        if (files.length === 0) { return done() }\n      }\n\n      // Cordova/iOS allows selecting multiple files even when the\n      // multiple attribute is not specified. We also normalize drag'n'dropped\n      // files here:\n      if (this.multiple !== true) {\n        files = [ files[0] ]\n      }\n\n      if (this.maxTotalSize !== void 0) {\n        let size = append === true\n          ? currentFileList.reduce((total, file) => total + file.size, 0)\n          : 0\n\n        files = filterFiles(files, rejectedFiles, 'max-total-size', file => {\n          size += file.size\n          return size <= this.maxTotalSizeNumber\n        })\n\n        if (files.length === 0) { return done() }\n      }\n\n      // do we have custom filter function?\n      if (typeof this.filter === 'function') {\n        const filteredFiles = this.filter(files)\n        files = filterFiles(files, rejectedFiles, 'filter', file => {\n          return filteredFiles.includes(file)\n        })\n      }\n\n      if (this.maxFiles !== void 0) {\n        let filesNumber = append === true\n          ? currentFileList.length\n          : 0\n\n        files = filterFiles(files, rejectedFiles, 'max-files', () => {\n          filesNumber++\n          return filesNumber <= this.maxFilesNumber\n        })\n\n        if (files.length === 0) { return done() }\n      }\n\n      done()\n\n      if (files.length > 0) {\n        return files\n      }\n    },\n\n    __onDragOver (e) {\n      stopAndPrevent(e)\n      this.dnd = true\n    },\n\n    __onDragLeave (e) {\n      stopAndPrevent(e)\n      this.dnd = false\n    },\n\n    __onDrop (e) {\n      stopAndPrevent(e)\n      let files = e.dataTransfer.files\n\n      if (files.length > 0) {\n        this.__addFiles(null, files)\n      }\n\n      this.dnd = false\n    },\n\n    __getDnd (h, type) {\n      if (this.dnd === true) {\n        return h('div', {\n          staticClass: `q-${type}__dnd absolute-full`,\n          on: cache(this, 'dnd', {\n            dragenter: stopAndPrevent,\n            dragover: stopAndPrevent,\n            dragleave: this.__onDragLeave,\n            drop: this.__onDrop\n          })\n        })\n      }\n    }\n  }\n}\n\nexport const FileValueMixin = {\n  computed: {\n    formDomProps () {\n      if (this.type !== 'file') {\n        return\n      }\n\n      try {\n        const dt = 'DataTransfer' in window\n          ? new DataTransfer()\n          : ('ClipboardEvent' in window\n            ? new ClipboardEvent('').clipboardData\n            : void 0\n          )\n\n        if (Object(this.value) === this.value) {\n          ('length' in this.value\n            ? Array.from(this.value)\n            : [ this.value ]\n          ).forEach(file => {\n            dt.items.add(file)\n          })\n        }\n\n        return {\n          files: dt.files\n        }\n      }\n      catch (e) {\n        return {\n          files: void 0\n        }\n      }\n    }\n  }\n}\n"]}]}