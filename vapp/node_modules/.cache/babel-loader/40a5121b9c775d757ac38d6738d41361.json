{"remainingRequest":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\components\\editor\\editor-caret.js","dependencies":[{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\components\\editor\\editor-caret.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6L1VzZXJzL2poaWxsMDUvVHJ1ZmZsZVRlc3RzL1RydS92YXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovVXNlcnMvamhpbGwwNS9UcnVmZmxlVGVzdHMvVHJ1L3ZhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCB7IG5vb3AgfSBmcm9tICIuLi8uLi91dGlscy9ldmVudC5qcyI7CgpmdW5jdGlvbiBnZXRCbG9ja0VsZW1lbnQoZWwsIHBhcmVudCkgewogIGlmIChwYXJlbnQgJiYgZWwgPT09IHBhcmVudCkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgbm9kZU5hbWUgPSBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwoKICBpZiAoWydkaXYnLCAnbGknLCAndWwnLCAnb2wnLCAnYmxvY2txdW90ZSddLmluY2x1ZGVzKG5vZGVOYW1lKSA9PT0gdHJ1ZSkgewogICAgcmV0dXJuIGVsOwogIH0KCiAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkgOiBlbC5jdXJyZW50U3R5bGUsCiAgICAgIGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5OwoKICBpZiAoZGlzcGxheSA9PT0gJ2Jsb2NrJyB8fCBkaXNwbGF5ID09PSAndGFibGUnKSB7CiAgICByZXR1cm4gZWw7CiAgfQoKICByZXR1cm4gZ2V0QmxvY2tFbGVtZW50KGVsLnBhcmVudE5vZGUpOwp9CgpmdW5jdGlvbiBpc0NoaWxkT2YoZWwsIHBhcmVudCkgewogIHJldHVybiAhZWwgfHwgZWwgPT09IGRvY3VtZW50LmJvZHkgPyBmYWxzZSA6IChwYXJlbnQgPT09IGRvY3VtZW50ID8gZG9jdW1lbnQuYm9keSA6IHBhcmVudCkuY29udGFpbnMoZWwucGFyZW50Tm9kZSk7Cn0KCnZhciB1cmxSZWdleCA9IC9eaHR0cHM/OlwvXC8vOwpleHBvcnQgdmFyIENhcmV0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBDYXJldChlbCwgdm0pIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXJldCk7CgogICAgdGhpcy5lbCA9IGVsOwogICAgdGhpcy52bSA9IHZtOwogICAgdGhpcy5fcmFuZ2UgPSBudWxsOwogIH0KCiAgX2NyZWF0ZUNsYXNzKENhcmV0LCBbewogICAga2V5OiAic2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIHJhbmdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnJhbmdlOwoKICAgICAgaWYgKHJhbmdlICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5fcmFuZ2UgPSByYW5nZTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlc3RvcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RvcmUoKSB7CiAgICAgIHZhciByYW5nZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5fcmFuZ2U7CiAgICAgIHZhciByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwKICAgICAgICAgIHNlbCA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHJhbmdlICE9PSBudWxsKSB7CiAgICAgICAgci5zZXRTdGFydChyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpOwogICAgICAgIHIuc2V0RW5kKHJhbmdlLmVuZENvbnRhaW5lciwgcmFuZ2UuZW5kT2Zmc2V0KTsKICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7CiAgICAgICAgc2VsLmFkZFJhbmdlKHIpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlbC5zZWxlY3RBbGxDaGlsZHJlbih0aGlzLmVsKTsKICAgICAgICBzZWwuY29sbGFwc2VUb0VuZCgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzUGFyZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNQYXJlbnQobmFtZSwgc3BhbkxldmVsKSB7CiAgICAgIHZhciBlbCA9IHNwYW5MZXZlbCA/IHRoaXMucGFyZW50IDogdGhpcy5ibG9ja1BhcmVudDsKICAgICAgcmV0dXJuIGVsICE9PSBudWxsID8gZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzUGFyZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzUGFyZW50cyhsaXN0LCByZWN1cnNpdmUpIHsKICAgICAgdmFyIGVsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0aGlzLnBhcmVudDsKCiAgICAgIGlmIChlbCA9PT0gbnVsbCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKGVsICE9PSBudWxsICYmIGxpc3QuaW5jbHVkZXMoZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlY3Vyc2l2ZSA9PT0gdHJ1ZSA/IHRoaXMuaGFzUGFyZW50cyhsaXN0LCByZWN1cnNpdmUsIGVsLnBhcmVudE5vZGUpIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzKGNtZCwgcGFyYW0pIHsKICAgICAgc3dpdGNoIChjbWQpIHsKICAgICAgICBjYXNlICdmb3JtYXRCbG9jayc6CiAgICAgICAgICBpZiAocGFyYW0gPT09ICdESVYnICYmIHRoaXMucGFyZW50ID09PSB0aGlzLmVsKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB0aGlzLmhhc1BhcmVudChwYXJhbSwgcGFyYW0gPT09ICdQUkUnKTsKCiAgICAgICAgY2FzZSAnbGluayc6CiAgICAgICAgICByZXR1cm4gdGhpcy5oYXNQYXJlbnQoJ0EnLCB0cnVlKTsKCiAgICAgICAgY2FzZSAnZm9udFNpemUnOgogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFZhbHVlKGNtZCkgPT09IHBhcmFtOwoKICAgICAgICBjYXNlICdmb250TmFtZSc6CiAgICAgICAgICB2YXIgcmVzID0gZG9jdW1lbnQucXVlcnlDb21tYW5kVmFsdWUoY21kKTsKICAgICAgICAgIHJldHVybiByZXMgPT09ICJcIiIuY29uY2F0KHBhcmFtLCAiXCIiKSB8fCByZXMgPT09IHBhcmFtOwoKICAgICAgICBjYXNlICdmdWxsc2NyZWVuJzoKICAgICAgICAgIHJldHVybiB0aGlzLnZtLmluRnVsbHNjcmVlbjsKCiAgICAgICAgY2FzZSAndmlld3NvdXJjZSc6CiAgICAgICAgICByZXR1cm4gdGhpcy52bS5pc1ZpZXdpbmdTb3VyY2U7CgogICAgICAgIGNhc2Ugdm9pZCAwOgogICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdmFyIHN0YXRlID0gZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUoY21kKTsKICAgICAgICAgIHJldHVybiBwYXJhbSAhPT0gdm9pZCAwID8gc3RhdGUgPT09IHBhcmFtIDogc3RhdGU7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRQYXJlbnRBdHRyaWJ1dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhcmVudEF0dHJpYnV0ZShhdHRyaWIpIHsKICAgICAgaWYgKHRoaXMucGFyZW50ICE9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldEF0dHJpYnV0ZShhdHRyaWIpOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbihuYW1lKSB7CiAgICAgIGlmIChuYW1lID09PSAnb3V0ZGVudCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5oYXNQYXJlbnRzKFsnYmxvY2txdW90ZScsICdsaSddLCB0cnVlKTsKICAgICAgfQoKICAgICAgaWYgKG5hbWUgPT09ICdpbmRlbnQnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGFyZW50cyhbJ2xpJ10sIHRydWUpOwogICAgICB9CgogICAgICBpZiAobmFtZSA9PT0gJ2xpbmsnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uICE9PSBudWxsIHx8IHRoaXMuaXMoJ2xpbmsnKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImFwcGx5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseShjbWQsIHBhcmFtKSB7CiAgICAgIHZhciBkb25lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBub29wOwoKICAgICAgaWYgKGNtZCA9PT0gJ2Zvcm1hdEJsb2NrJykgewogICAgICAgIGlmIChbJ0JMT0NLUVVPVEUnLCAnSDEnLCAnSDInLCAnSDMnLCAnSDQnLCAnSDUnLCAnSDYnXS5pbmNsdWRlcyhwYXJhbSkgJiYgdGhpcy5pcyhjbWQsIHBhcmFtKSkgewogICAgICAgICAgY21kID0gJ291dGRlbnQnOwogICAgICAgICAgcGFyYW0gPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKHBhcmFtID09PSAnUFJFJyAmJiB0aGlzLmlzKGNtZCwgJ1BSRScpKSB7CiAgICAgICAgICBwYXJhbSA9ICdQJzsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoY21kID09PSAncHJpbnQnKSB7CiAgICAgICAgZG9uZSgpOwogICAgICAgIHZhciB3aW4gPSB3aW5kb3cub3BlbigpOwogICAgICAgIHdpbi5kb2N1bWVudC53cml0ZSgiXG4gICAgICAgIDwhZG9jdHlwZSBodG1sPlxuICAgICAgICA8aHRtbD5cbiAgICAgICAgICA8aGVhZD5cbiAgICAgICAgICAgIDx0aXRsZT5QcmludCAtICIuY29uY2F0KGRvY3VtZW50LnRpdGxlLCAiPC90aXRsZT5cbiAgICAgICAgICA8L2hlYWQ+XG4gICAgICAgICAgPGJvZHk+XG4gICAgICAgICAgICA8ZGl2PiIpLmNvbmNhdCh0aGlzLmVsLmlubmVySFRNTCwgIjwvZGl2PlxuICAgICAgICAgIDwvYm9keT5cbiAgICAgICAgPC9odG1sPlxuICAgICAgIikpOwogICAgICAgIHdpbi5wcmludCgpOwogICAgICAgIHdpbi5jbG9zZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChjbWQgPT09ICdsaW5rJykgewogICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRQYXJlbnRBdHRyaWJ1dGUoJ2hyZWYnKTsKCiAgICAgICAgaWYgKGxpbmsgPT09IG51bGwpIHsKICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdFdvcmQodGhpcy5zZWxlY3Rpb24pOwogICAgICAgICAgdmFyIHVybCA9IHNlbGVjdGlvbiA/IHNlbGVjdGlvbi50b1N0cmluZygpIDogJyc7CgogICAgICAgICAgaWYgKCF1cmwubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnZtLmVkaXRMaW5rVXJsID0gdXJsUmVnZXgudGVzdCh1cmwpID8gdXJsIDogJ2h0dHBzOi8vJzsKICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjcmVhdGVMaW5rJywgZmFsc2UsIHRoaXMudm0uZWRpdExpbmtVcmwpOwogICAgICAgICAgdGhpcy5zYXZlKHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy52bS5lZGl0TGlua1VybCA9IGxpbms7CiAgICAgICAgICB0aGlzLnJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyh0aGlzLnBhcmVudCk7CiAgICAgICAgICB0aGlzLnNhdmUoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChjbWQgPT09ICdmdWxsc2NyZWVuJykgewogICAgICAgIHRoaXMudm0udG9nZ2xlRnVsbHNjcmVlbigpOwogICAgICAgIGRvbmUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoY21kID09PSAndmlld3NvdXJjZScpIHsKICAgICAgICB0aGlzLnZtLmlzVmlld2luZ1NvdXJjZSA9IHRoaXMudm0uaXNWaWV3aW5nU291cmNlID09PSBmYWxzZTsKCiAgICAgICAgdGhpcy52bS5fX3NldENvbnRlbnQodGhpcy52bS52YWx1ZSk7CgogICAgICAgIGRvbmUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNtZCwgZmFsc2UsIHBhcmFtKTsKICAgICAgZG9uZSgpOwogICAgfQogIH0sIHsKICAgIGtleTogInNlbGVjdFdvcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFdvcmQoc2VsKSB7CiAgICAgIGlmIChzZWwgPT09IG51bGwgfHwgc2VsLmlzQ29sbGFwc2VkICE9PSB0cnVlIHx8CiAgICAgIC8qIElFIDExICovCiAgICAgIHNlbC5tb2RpZnkgPT09IHZvaWQgMCkgewogICAgICAgIHJldHVybiBzZWw7CiAgICAgIH0gLy8gRGV0ZWN0IGlmIHNlbGVjdGlvbiBpcyBiYWNrd2FyZHMKCgogICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOwogICAgICByYW5nZS5zZXRTdGFydChzZWwuYW5jaG9yTm9kZSwgc2VsLmFuY2hvck9mZnNldCk7CiAgICAgIHJhbmdlLnNldEVuZChzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQpOwogICAgICB2YXIgZGlyZWN0aW9uID0gcmFuZ2UuY29sbGFwc2VkID8gWydiYWNrd2FyZCcsICdmb3J3YXJkJ10gOiBbJ2ZvcndhcmQnLCAnYmFja3dhcmQnXTsKICAgICAgcmFuZ2UuZGV0YWNoKCk7IC8vIG1vZGlmeSgpIHdvcmtzIG9uIHRoZSBmb2N1cyBvZiB0aGUgc2VsZWN0aW9uCgogICAgICB2YXIgZW5kTm9kZSA9IHNlbC5mb2N1c05vZGUsCiAgICAgICAgICBlbmRPZmZzZXQgPSBzZWwuZm9jdXNPZmZzZXQ7CiAgICAgIHNlbC5jb2xsYXBzZShzZWwuYW5jaG9yTm9kZSwgc2VsLmFuY2hvck9mZnNldCk7CiAgICAgIHNlbC5tb2RpZnkoJ21vdmUnLCBkaXJlY3Rpb25bMF0sICdjaGFyYWN0ZXInKTsKICAgICAgc2VsLm1vZGlmeSgnbW92ZScsIGRpcmVjdGlvblsxXSwgJ3dvcmQnKTsKICAgICAgc2VsLmV4dGVuZChlbmROb2RlLCBlbmRPZmZzZXQpOwogICAgICBzZWwubW9kaWZ5KCdleHRlbmQnLCBkaXJlY3Rpb25bMV0sICdjaGFyYWN0ZXInKTsKICAgICAgc2VsLm1vZGlmeSgnZXh0ZW5kJywgZGlyZWN0aW9uWzBdLCAnd29yZCcpOwogICAgICByZXR1cm4gc2VsOwogICAgfQogIH0sIHsKICAgIGtleTogInNlbGVjdGlvbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKHRoaXMuZWwpIHsKICAgICAgICB2YXIgc2VsID0gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk7IC8vIG9ubHkgd2hlbiB0aGUgc2VsZWN0aW9uIGluIGVsZW1lbnQKCiAgICAgICAgaWYgKGlzQ2hpbGRPZihzZWwuYW5jaG9yTm9kZSwgdGhpcy5lbCkgJiYgaXNDaGlsZE9mKHNlbC5mb2N1c05vZGUsIHRoaXMuZWwpKSB7CiAgICAgICAgICByZXR1cm4gc2VsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzU2VsZWN0aW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24gIT09IG51bGwgPyB0aGlzLnNlbGVjdGlvbi50b1N0cmluZygpLmxlbmd0aCA+IDAgOiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyYW5nZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIHNlbCA9IHRoaXMuc2VsZWN0aW9uOwoKICAgICAgaWYgKHNlbCAhPT0gbnVsbCAmJiBzZWwucmFuZ2VDb3VudCkgewogICAgICAgIHJldHVybiBzZWwuZ2V0UmFuZ2VBdCgwKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlOwogICAgfQogIH0sIHsKICAgIGtleTogInBhcmVudCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIHJhbmdlID0gdGhpcy5yYW5nZTsKCiAgICAgIGlmIChyYW5nZSAhPT0gbnVsbCkgewogICAgICAgIHZhciBub2RlID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7CiAgICAgICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IGRvY3VtZW50LkVMRU1FTlRfTk9ERSA/IG5vZGUgOiBub2RlLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogImJsb2NrUGFyZW50IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7CgogICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIGdldEJsb2NrRWxlbWVudChwYXJlbnQsIHRoaXMuZWwpOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9XSk7CgogIHJldHVybiBDYXJldDsKfSgpOw=="},{"version":3,"sources":["C:/Users/jhill05/TruffleTests/Tru/vapp/node_modules/quasar/src/components/editor/editor-caret.js"],"names":["noop","getBlockElement","el","parent","nodeName","toLowerCase","includes","style","window","getComputedStyle","currentStyle","display","parentNode","isChildOf","document","body","contains","urlRegex","Caret","vm","_range","range","r","createRange","sel","getSelection","setStart","startContainer","startOffset","setEnd","endContainer","endOffset","removeAllRanges","addRange","selectAllChildren","collapseToEnd","name","spanLevel","blockParent","list","recursive","hasParents","cmd","param","hasParent","queryCommandValue","res","inFullscreen","isViewingSource","state","queryCommandState","attrib","getAttribute","selection","is","done","win","open","write","title","innerHTML","print","close","link","getParentAttribute","selectWord","url","toString","length","editLinkUrl","test","execCommand","save","getRangeAt","selectNodeContents","toggleFullscreen","__setContent","value","isCollapsed","modify","anchorNode","anchorOffset","focusNode","focusOffset","direction","collapsed","detach","endNode","collapse","extend","rangeCount","node","nodeType","ELEMENT_NODE"],"mappings":"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","sourcesContent":["import { noop } from '../../utils/event.js'\n\nfunction getBlockElement (el, parent) {\n  if (parent && el === parent) {\n    return null\n  }\n\n  const nodeName = el.nodeName.toLowerCase()\n\n  if (['div', 'li', 'ul', 'ol', 'blockquote'].includes(nodeName) === true) {\n    return el\n  }\n\n  const\n    style = window.getComputedStyle\n      ? window.getComputedStyle(el)\n      : el.currentStyle,\n    display = style.display\n\n  if (display === 'block' || display === 'table') {\n    return el\n  }\n\n  return getBlockElement(el.parentNode)\n}\n\nfunction isChildOf (el, parent) {\n  return !el || el === document.body\n    ? false\n    : (parent === document ? document.body : parent).contains(el.parentNode)\n}\n\nconst urlRegex = /^https?:\\/\\//\n\nexport class Caret {\n  constructor (el, vm) {\n    this.el = el\n    this.vm = vm\n    this._range = null\n  }\n\n  get selection () {\n    if (this.el) {\n      const sel = document.getSelection()\n\n      // only when the selection in element\n      if (isChildOf(sel.anchorNode, this.el) && isChildOf(sel.focusNode, this.el)) {\n        return sel\n      }\n    }\n\n    return null\n  }\n\n  get hasSelection () {\n    return this.selection !== null\n      ? this.selection.toString().length > 0\n      : false\n  }\n\n  get range () {\n    const sel = this.selection\n\n    if (sel !== null && sel.rangeCount) {\n      return sel.getRangeAt(0)\n    }\n\n    return this._range\n  }\n\n  get parent () {\n    const range = this.range\n\n    if (range !== null) {\n      const node = range.startContainer\n\n      return node.nodeType === document.ELEMENT_NODE\n        ? node\n        : node.parentNode\n    }\n\n    return null\n  }\n\n  get blockParent () {\n    const parent = this.parent\n\n    if (parent !== null) {\n      return getBlockElement(parent, this.el)\n    }\n\n    return null\n  }\n\n  save (range = this.range) {\n    if (range !== null) {\n      this._range = range\n    }\n  }\n\n  restore (range = this._range) {\n    const\n      r = document.createRange(),\n      sel = document.getSelection()\n\n    if (range !== null) {\n      r.setStart(range.startContainer, range.startOffset)\n      r.setEnd(range.endContainer, range.endOffset)\n      sel.removeAllRanges()\n      sel.addRange(r)\n    }\n    else {\n      sel.selectAllChildren(this.el)\n      sel.collapseToEnd()\n    }\n  }\n\n  hasParent (name, spanLevel) {\n    const el = spanLevel\n      ? this.parent\n      : this.blockParent\n\n    return el !== null\n      ? el.nodeName.toLowerCase() === name.toLowerCase()\n      : false\n  }\n\n  hasParents (list, recursive, el = this.parent) {\n    if (el === null) {\n      return false\n    }\n\n    if (el !== null && list.includes(el.nodeName.toLowerCase()) === true) {\n      return true\n    }\n\n    return recursive === true\n      ? this.hasParents(list, recursive, el.parentNode)\n      : false\n  }\n\n  is (cmd, param) {\n    switch (cmd) {\n      case 'formatBlock':\n        if (param === 'DIV' && this.parent === this.el) {\n          return true\n        }\n        return this.hasParent(param, param === 'PRE')\n      case 'link':\n        return this.hasParent('A', true)\n      case 'fontSize':\n        return document.queryCommandValue(cmd) === param\n      case 'fontName':\n        const res = document.queryCommandValue(cmd)\n        return res === `\"${param}\"` || res === param\n      case 'fullscreen':\n        return this.vm.inFullscreen\n      case 'viewsource':\n        return this.vm.isViewingSource\n      case void 0:\n        return false\n      default:\n        const state = document.queryCommandState(cmd)\n        return param !== void 0 ? state === param : state\n    }\n  }\n\n  getParentAttribute (attrib) {\n    if (this.parent !== null) {\n      return this.parent.getAttribute(attrib)\n    }\n\n    return null\n  }\n\n  can (name) {\n    if (name === 'outdent') {\n      return this.hasParents(['blockquote', 'li'], true)\n    }\n\n    if (name === 'indent') {\n      return this.hasParents(['li'], true)\n    }\n\n    if (name === 'link') {\n      return this.selection !== null || this.is('link')\n    }\n  }\n\n  apply (cmd, param, done = noop) {\n    if (cmd === 'formatBlock') {\n      if (['BLOCKQUOTE', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6'].includes(param) && this.is(cmd, param)) {\n        cmd = 'outdent'\n        param = null\n      }\n\n      if (param === 'PRE' && this.is(cmd, 'PRE')) {\n        param = 'P'\n      }\n    }\n    else if (cmd === 'print') {\n      done()\n\n      const win = window.open()\n\n      win.document.write(`\n        <!doctype html>\n        <html>\n          <head>\n            <title>Print - ${document.title}</title>\n          </head>\n          <body>\n            <div>${this.el.innerHTML}</div>\n          </body>\n        </html>\n      `)\n      win.print()\n      win.close()\n\n      return\n    }\n    else if (cmd === 'link') {\n      const link = this.getParentAttribute('href')\n\n      if (link === null) {\n        const selection = this.selectWord(this.selection)\n        const url = selection ? selection.toString() : ''\n\n        if (!url.length) {\n          return\n        }\n\n        this.vm.editLinkUrl = urlRegex.test(url) ? url : 'https://'\n        document.execCommand('createLink', false, this.vm.editLinkUrl)\n\n        this.save(selection.getRangeAt(0))\n      }\n      else {\n        this.vm.editLinkUrl = link\n\n        this.range.selectNodeContents(this.parent)\n        this.save()\n      }\n\n      return\n    }\n    else if (cmd === 'fullscreen') {\n      this.vm.toggleFullscreen()\n      done()\n\n      return\n    }\n    else if (cmd === 'viewsource') {\n      this.vm.isViewingSource = this.vm.isViewingSource === false\n      this.vm.__setContent(this.vm.value)\n      done()\n\n      return\n    }\n\n    document.execCommand(cmd, false, param)\n\n    done()\n  }\n\n  selectWord (sel) {\n    if (sel === null || sel.isCollapsed !== true || /* IE 11 */ sel.modify === void 0) {\n      return sel\n    }\n\n    // Detect if selection is backwards\n    const range = document.createRange()\n    range.setStart(sel.anchorNode, sel.anchorOffset)\n    range.setEnd(sel.focusNode, sel.focusOffset)\n    const direction = range.collapsed ? ['backward', 'forward'] : ['forward', 'backward']\n    range.detach()\n\n    // modify() works on the focus of the selection\n    const\n      endNode = sel.focusNode,\n      endOffset = sel.focusOffset\n    sel.collapse(sel.anchorNode, sel.anchorOffset)\n    sel.modify('move', direction[0], 'character')\n    sel.modify('move', direction[1], 'word')\n    sel.extend(endNode, endOffset)\n    sel.modify('extend', direction[1], 'character')\n    sel.modify('extend', direction[0], 'word')\n\n    return sel\n  }\n}\n"]}]}