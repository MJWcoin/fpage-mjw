{"remainingRequest":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\components\\file\\QFile.js","dependencies":[{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\quasar\\src\\components\\file\\QFile.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jhill05\\TruffleTests\\Tru\\vapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzovVXNlcnMvamhpbGwwNS9UcnVmZmxlVGVzdHMvVHJ1L3ZhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5udW1iZXIuY29uc3RydWN0b3IiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUUZpZWxkIGZyb20gIi4uL2ZpZWxkL1FGaWVsZC5qcyI7CmltcG9ydCBRQ2hpcCBmcm9tICIuLi9jaGlwL1FDaGlwLmpzIjsKaW1wb3J0IHsgRm9ybUZpZWxkTWl4aW4gfSBmcm9tICIuLi8uLi9taXhpbnMvZm9ybS5qcyI7CmltcG9ydCBGaWxlTWl4aW4sIHsgRmlsZVZhbHVlTWl4aW4gfSBmcm9tICIuLi8uLi9taXhpbnMvZmlsZS5qcyI7CmltcG9ydCB7IGlzU1NSIH0gZnJvbSAiLi4vLi4vcGx1Z2lucy9QbGF0Zm9ybSI7CmltcG9ydCB7IGh1bWFuU3RvcmFnZVNpemUgfSBmcm9tICIuLi8uLi91dGlscy9mb3JtYXQuanMiOwppbXBvcnQgY2FjaGUgZnJvbSAiLi4vLi4vdXRpbHMvY2FjaGUuanMiOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnUUZpbGUnLAogIG1peGluczogW1FGaWVsZCwgRmlsZU1peGluLCBGb3JtRmllbGRNaXhpbiwgRmlsZVZhbHVlTWl4aW5dLAogIHByb3BzOiB7CiAgICAvKiBTU1IgZG9lcyBub3Qga25vdyBhYm91dCBGaWxlICYgRmlsZUxpc3QgKi8KICAgIHZhbHVlOiBpc1NTUiA9PT0gdHJ1ZSA/IHt9IDogW0ZpbGUsIEZpbGVMaXN0LCBBcnJheV0sCiAgICBhcHBlbmQ6IEJvb2xlYW4sCiAgICB1c2VDaGlwczogQm9vbGVhbiwKICAgIGRpc3BsYXlWYWx1ZTogW1N0cmluZywgTnVtYmVyXSwKICAgIHRhYmluZGV4OiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBjb3VudGVyTGFiZWw6IEZ1bmN0aW9uLAogICAgaW5wdXRDbGFzczogW0FycmF5LCBTdHJpbmcsIE9iamVjdF0sCiAgICBpbnB1dFN0eWxlOiBbQXJyYXksIFN0cmluZywgT2JqZWN0XQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRuZDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaW5uZXJWYWx1ZTogZnVuY3Rpb24gaW5uZXJWYWx1ZSgpIHsKICAgICAgcmV0dXJuIE9iamVjdCh0aGlzLnZhbHVlKSA9PT0gdGhpcy52YWx1ZSA/ICdsZW5ndGgnIGluIHRoaXMudmFsdWUgPyBBcnJheS5mcm9tKHRoaXMudmFsdWUpIDogW3RoaXMudmFsdWVdIDogW107CiAgICB9LAogICAgc2VsZWN0ZWRTdHJpbmc6IGZ1bmN0aW9uIHNlbGVjdGVkU3RyaW5nKCkgewogICAgICByZXR1cm4gdGhpcy5pbm5lclZhbHVlLm1hcChmdW5jdGlvbiAoZmlsZSkgewogICAgICAgIHJldHVybiBmaWxlLm5hbWU7CiAgICAgIH0pLmpvaW4oJywgJyk7CiAgICB9LAogICAgdG90YWxTaXplOiBmdW5jdGlvbiB0b3RhbFNpemUoKSB7CiAgICAgIHJldHVybiBodW1hblN0b3JhZ2VTaXplKHRoaXMuaW5uZXJWYWx1ZS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZmlsZSkgewogICAgICAgIHJldHVybiBhY2MgKyBmaWxlLnNpemU7CiAgICAgIH0sIDApKTsKICAgIH0sCiAgICBjb3VudGVyUHJvcHM6IGZ1bmN0aW9uIGNvdW50ZXJQcm9wcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3RhbFNpemU6IHRoaXMudG90YWxTaXplLAogICAgICAgIGZpbGVzTnVtYmVyOiB0aGlzLmlubmVyVmFsdWUubGVuZ3RoLAogICAgICAgIG1heEZpbGVzOiB0aGlzLm1heEZpbGVzCiAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWRDb3VudGVyOiBmdW5jdGlvbiBjb21wdXRlZENvdW50ZXIoKSB7CiAgICAgIGlmICh0aGlzLmNvdW50ZXJMYWJlbCAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY291bnRlckxhYmVsKHRoaXMuY291bnRlclByb3BzKTsKICAgICAgfQoKICAgICAgdmFyIG1heCA9IHRoaXMubWF4RmlsZXM7CiAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5pbm5lclZhbHVlLmxlbmd0aCkuY29uY2F0KG1heCAhPT0gdm9pZCAwID8gJyAvICcgKyBtYXggOiAnJywgIiAoIikuY29uY2F0KHRoaXMudG90YWxTaXplLCAiKSIpOwogICAgfSwKICAgIGlucHV0QXR0cnM6IGZ1bmN0aW9uIGlucHV0QXR0cnMoKSB7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgICAgIHRhYmluZGV4OiAtMSwKICAgICAgICB0eXBlOiAnZmlsZScsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIC8vIHRyeSB0byByZW1vdmUgZGVmYXVsdCB0b29sdGlwLAogICAgICAgIGFjY2VwdDogdGhpcy5hY2NlcHQsCiAgICAgICAgY2FwdHVyZTogdGhpcy5jYXB0dXJlLAogICAgICAgIG5hbWU6IHRoaXMubmFtZVByb3AKICAgICAgfSwgdGhpcy5xQXR0cnMpLCB7fSwgewogICAgICAgIGlkOiB0aGlzLnRhcmdldFVpZCwKICAgICAgICBkaXNhYmxlZDogdGhpcy5lZGl0YWJsZSAhPT0gdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBpc0FwcGVuZGluZzogZnVuY3Rpb24gaXNBcHBlbmRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLm11bHRpcGxlID09PSB0cnVlICYmIHRoaXMuYXBwZW5kID09PSB0cnVlOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlQXRJbmRleDogZnVuY3Rpb24gcmVtb3ZlQXRJbmRleChpbmRleCkgewogICAgICB2YXIgZmlsZXMgPSB0aGlzLmlubmVyVmFsdWUuc2xpY2UoKTsKICAgICAgZmlsZXMuc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgIHRoaXMuX19lbWl0VmFsdWUoZmlsZXMpOwogICAgfSwKICAgIHJlbW92ZUZpbGU6IGZ1bmN0aW9uIHJlbW92ZUZpbGUoZmlsZSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmlubmVyVmFsdWUuZmluZEluZGV4KGZpbGUpOwoKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLnJlbW92ZUF0SW5kZXgoaW5kZXgpOwogICAgICB9CiAgICB9LAogICAgX19lbWl0VmFsdWU6IGZ1bmN0aW9uIF9fZW1pdFZhbHVlKGZpbGVzKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSA/IGZpbGVzIDogZmlsZXNbMF0pOwogICAgfSwKICAgIF9fb25LZXl1cDogZnVuY3Rpb24gX19vbktleXVwKGUpIHsKICAgICAgLy8gb25seSBvbiBFTlRFUgogICAgICBlLmtleUNvZGUgPT09IDEzICYmIHRoaXMucGlja0ZpbGVzKGUpOwogICAgfSwKICAgIF9fZ2V0RmlsZUlucHV0OiBmdW5jdGlvbiBfX2dldEZpbGVJbnB1dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJlZnMuaW5wdXQ7CiAgICB9LAogICAgX19hZGRGaWxlczogZnVuY3Rpb24gX19hZGRGaWxlcyhlLCBmaWxlTGlzdCkgewogICAgICB2YXIgZmlsZXMgPSB0aGlzLl9fcHJvY2Vzc0ZpbGVzKGUsIGZpbGVMaXN0LCB0aGlzLmlubmVyVmFsdWUsIHRoaXMuaXNBcHBlbmRpbmcpOwoKICAgICAgZmlsZXMgIT09IHZvaWQgMCAmJiB0aGlzLl9fZW1pdFZhbHVlKHRoaXMuaXNBcHBlbmRpbmcgPT09IHRydWUgPyB0aGlzLmlubmVyVmFsdWUuY29uY2F0KGZpbGVzKSA6IGZpbGVzKTsKICAgIH0sCiAgICBfX2dldENvbnRyb2w6IGZ1bmN0aW9uIF9fZ2V0Q29udHJvbChoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHJlZjogJ3RhcmdldCcsCiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWZpZWxkX19uYXRpdmUgcm93IGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlcicsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLnRhYmluZGV4CiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKHRoaXMuZWRpdGFibGUgPT09IHRydWUpIHsKICAgICAgICBkYXRhLm9uID0gY2FjaGUodGhpcywgJ25hdGl2ZScsIHsKICAgICAgICAgIGRyYWdvdmVyOiB0aGlzLl9fb25EcmFnT3ZlciwKICAgICAgICAgIGtleXVwOiB0aGlzLl9fb25LZXl1cAogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gaCgnZGl2JywgZGF0YSwgW3RoaXMuX19nZXRJbnB1dChoKV0uY29uY2F0KHRoaXMuX19nZXRTZWxlY3Rpb24oaCkpKTsKICAgIH0sCiAgICBfX2dldENvbnRyb2xDaGlsZDogZnVuY3Rpb24gX19nZXRDb250cm9sQ2hpbGQoaCkgewogICAgICByZXR1cm4gdGhpcy5fX2dldERuZChoLCAnZmlsZScpOwogICAgfSwKICAgIF9fZ2V0U2VsZWN0aW9uOiBmdW5jdGlvbiBfX2dldFNlbGVjdGlvbihoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuZmlsZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJWYWx1ZS5tYXAoZnVuY3Rpb24gKGZpbGUsIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuJHNjb3BlZFNsb3RzLmZpbGUoewogICAgICAgICAgICBpbmRleDogaW5kZXgsCiAgICAgICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgICAgIHJlZjogX3RoaXMKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuc2VsZWN0ZWQgIT09IHZvaWQgMCkgewogICAgICAgIHJldHVybiB0aGlzLiRzY29wZWRTbG90cy5zZWxlY3RlZCh7CiAgICAgICAgICBmaWxlczogdGhpcy5pbm5lclZhbHVlLAogICAgICAgICAgcmVmOiB0aGlzCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnVzZUNoaXBzID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJWYWx1ZS5tYXAoZnVuY3Rpb24gKGZpbGUsIGkpIHsKICAgICAgICAgIHJldHVybiBoKFFDaGlwLCB7CiAgICAgICAgICAgIGtleTogJ2ZpbGUtJyArIGksCiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgcmVtb3ZhYmxlOiBfdGhpcy5lZGl0YWJsZSwKICAgICAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgICAgICB0ZXh0Q29sb3I6IF90aGlzLmNvbG9yLAogICAgICAgICAgICAgIHRhYmluZGV4OiBfdGhpcy50YWJpbmRleAogICAgICAgICAgICB9LAogICAgICAgICAgICBvbjogY2FjaGUoX3RoaXMsICdyZW0jJyArIGksIHsKICAgICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZUF0SW5kZXgoaSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgfSwgW2goJ3NwYW4nLCB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAnZWxsaXBzaXMnLAogICAgICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgICAgIHRleHRDb250ZW50OiBmaWxlLm5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgfSldKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtoKCdkaXYnLCB7CiAgICAgICAgc3R5bGU6IHRoaXMuaW5wdXRTdHlsZSwKICAgICAgICBjbGFzczogdGhpcy5pbnB1dENsYXNzLAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICB0ZXh0Q29udGVudDogdGhpcy5kaXNwbGF5VmFsdWUgIT09IHZvaWQgMCA/IHRoaXMuZGlzcGxheVZhbHVlIDogdGhpcy5zZWxlY3RlZFN0cmluZwogICAgICAgIH0KICAgICAgfSldOwogICAgfSwKICAgIF9fZ2V0SW5wdXQ6IGZ1bmN0aW9uIF9fZ2V0SW5wdXQoaCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICByZWY6ICdpbnB1dCcsCiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWZpZWxkX19pbnB1dCBmaXQgYWJzb2x1dGUtZnVsbCBjdXJzb3ItcG9pbnRlcicsCiAgICAgICAgYXR0cnM6IHRoaXMuaW5wdXRBdHRycywKICAgICAgICBkb21Qcm9wczogdGhpcy5mb3JtRG9tUHJvcHMsCiAgICAgICAgb246IGNhY2hlKHRoaXMsICdpbnB1dCcsIHsKICAgICAgICAgIGNoYW5nZTogdGhpcy5fX2FkZEZpbGVzCiAgICAgICAgfSkKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLm11bHRpcGxlID09PSB0cnVlKSB7CiAgICAgICAgZGF0YS5hdHRycy5tdWx0aXBsZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBoKCdpbnB1dCcsIGRhdGEpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmllbGRDbGFzcyA9ICdxLWZpbGUgcS1maWVsZC0tYXV0by1oZWlnaHQnOyAvLyBuZWNlc3NhcnkgZm9yIFFGaWVsZCdzIGNsZWFyYWJsZQogICAgLy8gYW5kIEZpbGVWYWx1ZU1peGluCgogICAgdGhpcy50eXBlID0gJ2ZpbGUnOwogIH0KfSk7"},{"version":3,"sources":["C:/Users/jhill05/TruffleTests/Tru/vapp/node_modules/quasar/src/components/file/QFile.js"],"names":["Vue","QField","QChip","FormFieldMixin","FileMixin","FileValueMixin","isSSR","humanStorageSize","cache","extend","name","mixins","props","value","File","FileList","Array","append","Boolean","useChips","displayValue","String","Number","tabindex","type","default","counterLabel","Function","inputClass","Object","inputStyle","data","dnd","computed","innerValue","from","selectedString","map","file","join","totalSize","reduce","acc","size","counterProps","filesNumber","length","maxFiles","computedCounter","max","inputAttrs","title","accept","capture","nameProp","qAttrs","id","targetUid","disabled","editable","isAppending","multiple","methods","removeAtIndex","index","files","slice","splice","__emitValue","removeFile","findIndex","$emit","__onKeyup","e","keyCode","pickFiles","__getFileInput","$refs","input","__addFiles","fileList","__processFiles","concat","__getControl","h","ref","staticClass","attrs","on","dragover","__onDragOver","keyup","__getInput","__getSelection","__getControlChild","__getDnd","$scopedSlots","selected","i","key","removable","dense","textColor","color","remove","domProps","textContent","style","class","formDomProps","change","created","fieldClass"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport QField from '../field/QField.js'\nimport QChip from '../chip/QChip.js'\n\nimport { FormFieldMixin } from '../../mixins/form.js'\nimport FileMixin, { FileValueMixin } from '../../mixins/file.js'\n\nimport { isSSR } from '../../plugins/Platform'\nimport { humanStorageSize } from '../../utils/format.js'\nimport cache from '../../utils/cache.js'\n\nexport default Vue.extend({\n  name: 'QFile',\n\n  mixins: [ QField, FileMixin, FormFieldMixin, FileValueMixin ],\n\n  props: {\n    /* SSR does not know about File & FileList */\n    value: isSSR === true\n      ? {}\n      : [ File, FileList, Array ],\n\n    append: Boolean,\n    useChips: Boolean,\n    displayValue: [ String, Number ],\n\n    tabindex: {\n      type: [ String, Number ],\n      default: 0\n    },\n\n    counterLabel: Function,\n\n    inputClass: [ Array, String, Object ],\n    inputStyle: [ Array, String, Object ]\n  },\n\n  data () {\n    return {\n      dnd: false\n    }\n  },\n\n  computed: {\n    innerValue () {\n      return Object(this.value) === this.value\n        ? ('length' in this.value ? Array.from(this.value) : [ this.value ])\n        : []\n    },\n\n    selectedString () {\n      return this.innerValue\n        .map(file => file.name)\n        .join(', ')\n    },\n\n    totalSize () {\n      return humanStorageSize(\n        this.innerValue.reduce((acc, file) => acc + file.size, 0)\n      )\n    },\n\n    counterProps () {\n      return {\n        totalSize: this.totalSize,\n        filesNumber: this.innerValue.length,\n        maxFiles: this.maxFiles\n      }\n    },\n\n    computedCounter () {\n      if (this.counterLabel !== void 0) {\n        return this.counterLabel(this.counterProps)\n      }\n\n      const max = this.maxFiles\n      return `${this.innerValue.length}${max !== void 0 ? ' / ' + max : ''} (${this.totalSize})`\n    },\n\n    inputAttrs () {\n      return {\n        tabindex: -1,\n        type: 'file',\n        title: '', // try to remove default tooltip,\n        accept: this.accept,\n        capture: this.capture,\n        name: this.nameProp,\n        ...this.qAttrs,\n        id: this.targetUid,\n        disabled: this.editable !== true\n      }\n    },\n\n    isAppending () {\n      return this.multiple === true && this.append === true\n    }\n  },\n\n  methods: {\n    removeAtIndex (index) {\n      const files = this.innerValue.slice()\n      files.splice(index, 1)\n      this.__emitValue(files)\n    },\n\n    removeFile (file) {\n      const index = this.innerValue.findIndex(file)\n      if (index > -1) {\n        this.removeAtIndex(index)\n      }\n    },\n\n    __emitValue (files) {\n      this.$emit('input', this.multiple === true ? files : files[0])\n    },\n\n    __onKeyup (e) {\n      // only on ENTER\n      e.keyCode === 13 && this.pickFiles(e)\n    },\n\n    __getFileInput () {\n      return this.$refs.input\n    },\n\n    __addFiles (e, fileList) {\n      const files = this.__processFiles(e, fileList, this.innerValue, this.isAppending)\n\n      files !== void 0 && this.__emitValue(\n        this.isAppending === true\n          ? this.innerValue.concat(files)\n          : files\n      )\n    },\n\n    __getControl (h) {\n      const data = {\n        ref: 'target',\n        staticClass: 'q-field__native row items-center cursor-pointer',\n        attrs: {\n          tabindex: this.tabindex\n        }\n      }\n\n      if (this.editable === true) {\n        data.on = cache(this, 'native', {\n          dragover: this.__onDragOver,\n          keyup: this.__onKeyup\n        })\n      }\n\n      return h('div', data, [ this.__getInput(h) ].concat(this.__getSelection(h)))\n    },\n\n    __getControlChild (h) {\n      return this.__getDnd(h, 'file')\n    },\n\n    __getSelection (h) {\n      if (this.$scopedSlots.file !== void 0) {\n        return this.innerValue.map((file, index) => this.$scopedSlots.file({ index, file, ref: this }))\n      }\n\n      if (this.$scopedSlots.selected !== void 0) {\n        return this.$scopedSlots.selected({ files: this.innerValue, ref: this })\n      }\n\n      if (this.useChips === true) {\n        return this.innerValue.map((file, i) => h(QChip, {\n          key: 'file-' + i,\n          props: {\n            removable: this.editable,\n            dense: true,\n            textColor: this.color,\n            tabindex: this.tabindex\n          },\n          on: cache(this, 'rem#' + i, {\n            remove: () => { this.removeAtIndex(i) }\n          })\n        }, [\n          h('span', {\n            staticClass: 'ellipsis',\n            domProps: {\n              textContent: file.name\n            }\n          })\n        ]))\n      }\n\n      return [\n        h('div', {\n          style: this.inputStyle,\n          class: this.inputClass,\n          domProps: {\n            textContent: this.displayValue !== void 0\n              ? this.displayValue\n              : this.selectedString\n          }\n        })\n      ]\n    },\n\n    __getInput (h) {\n      const data = {\n        ref: 'input',\n        staticClass: 'q-field__input fit absolute-full cursor-pointer',\n        attrs: this.inputAttrs,\n        domProps: this.formDomProps,\n        on: cache(this, 'input', {\n          change: this.__addFiles\n        })\n      }\n\n      if (this.multiple === true) {\n        data.attrs.multiple = true\n      }\n\n      return h('input', data)\n    }\n  },\n\n  created () {\n    this.fieldClass = 'q-file q-field--auto-height'\n\n    // necessary for QField's clearable\n    // and FileValueMixin\n    this.type = 'file'\n  }\n})\n"]}]}